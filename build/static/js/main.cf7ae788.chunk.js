(this.webpackJsonpwastetracker=this.webpackJsonpwastetracker||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);n(0),n(313);var a=n(2);t.default=function(){var e=(new Date).getFullYear();return Object(a.jsx)("footer",{id:"footer",children:Object(a.jsxs)("p",{children:["Copyright \u24d2 ",e]})})}},110:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));n(0);var a=n(2);function c(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3",crossorigin:"anonymous"}),Object(a.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js",integrity:"sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p",crossorigin:"anonymous"}),Object(a.jsx)("link",{rel:"stylesheet",href:"./style.css"}),Object(a.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark row",children:Object(a.jsxs)("div",{class:"container-fluid",children:[Object(a.jsx)("a",{class:"navbar-brand col-sm ms-3",href:"/",children:"Waste Tracker"}),Object(a.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{class:"navbar-toggler-icon"})}),Object(a.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:Object(a.jsxs)("ul",{class:"navbar-nav col-sm",children:[Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsxs)("a",{class:"nav-link active","aria-current":"page",href:"/",children:["Home ",Object(a.jsx)("span",{class:"sr-only"})]})}),Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)("a",{class:"nav-link",href:"/maps",children:"Map"})}),Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)("a",{class:"nav-link",href:"/about",children:"About Us"})}),Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)("a",{class:"nav-link",href:"/contact",children:"Contact Us"})})]})})]})})]})}},135:function(e,t,n){"use strict";var a=n(0);t.a=function(e){Object(a.useEffect)((function(){var t=document.createElement("script");return t.src=e,t.async=!0,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e])}},174:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(19),c=n.n(a),r=n(43),s=n(9),o=n(138),l=n(263),i=n(46),u=n.n(i),j=n(0),d=(n(307),n(2));function b(e){var t=e.setShowRegister,n=Object(j.useState)(!1),a=Object(s.a)(n,2),i=a[0],b=a[1],h=Object(j.useState)(!1),p=Object(s.a)(h,2),O=p[0],f=p[1],v=Object(j.useRef)(),x=Object(j.useRef)(),m=Object(j.useRef)(),g=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:v.current.value,email:x.current.value,password:m.current.value},e.prev=2,e.next=5,u.a.post("http://localhost:4000/api/users/register",n);case 5:f(!1),b(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),f(!0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"registerContainer",children:[Object(d.jsxs)("div",{className:"logo",children:[Object(d.jsx)(o.a,{className:"logoIcon"}),Object(d.jsx)("span",{children:"Pin"})]}),Object(d.jsxs)("form",{onSubmit:g,children:[Object(d.jsx)("input",{autoFocus:!0,placeholder:"username",ref:v}),Object(d.jsx)("input",{type:"email",placeholder:"email",ref:x}),Object(d.jsx)("input",{type:"password",min:"6",placeholder:"password",ref:m}),Object(d.jsx)("button",{className:"registerBtn",type:"submit",children:"Register"}),i&&Object(d.jsx)("span",{className:"success",children:"Successfull. You can login now!"}),O&&Object(d.jsx)("span",{className:"failure",children:"Something went wrong!"})]}),Object(d.jsx)(l.a,{className:"registerCancel",onClick:function(){return t(!1)}})]})}},175:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(19),c=n.n(a),r=n(43),s=n(9),o=n(138),l=n(263),i=n(46),u=n.n(i),j=n(0),d=(n(311),n(2));function b(e){var t=e.setShowLogin,n=e.setCurrentUsername,a=e.myStorage,i=Object(j.useState)(!1),b=Object(s.a)(i,2),h=b[0],p=b[1],O=Object(j.useRef)(),f=Object(j.useRef)(),v=function(){var e=Object(r.a)(c.a.mark((function e(r){var s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),s={username:O.current.value,password:f.current.value},e.prev=2,e.next=5,u.a.post("http://localhost:4000/api/users/login",s);case 5:o=e.sent,n(o.data.username),a.setItem("user",o.data.username),t(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),p(!0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"loginContainer",children:[Object(d.jsxs)("div",{className:"logo",children:[Object(d.jsx)(o.a,{className:"logoIcon"}),Object(d.jsx)("span",{children:"Pin"})]}),Object(d.jsxs)("form",{onSubmit:v,children:[Object(d.jsx)("input",{autoFocus:!0,placeholder:"username",ref:O}),Object(d.jsx)("input",{type:"password",min:"6",placeholder:"password",ref:f}),Object(d.jsx)("button",{className:"loginBtn",type:"submit",children:"Login"}),h&&Object(d.jsx)("span",{className:"failure",children:"Something went wrong!"})]}),Object(d.jsx)(l.a,{className:"loginCancel",onClick:function(){return t(!1)}})]})}},178:function(e,t,n){},307:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));n(0),n(109),n(110),n(135);var a=n(259),c=n(2);function r(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Contact Us"}),Object(c.jsx)("p",{children:Object(c.jsx)(a.a,{src:"https://form.jotformeu.com/212953694531461"})})]})}},313:function(e,t,n){},508:function(e,t,n){"use strict";n.r(t);n(0);var a=n(2);t.default=function(){return Object(a.jsx)("header",{children:Object(a.jsx)("h1",{children:"Waste Tracker"})})}},509:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));n(0),n(109),n(110);var a=n(2);function c(){return Object(a.jsxs)("div",{style:{color:"white",padding:"2em"},children:[Object(a.jsx)("h1",{children:"About Us"}),Object(a.jsx)("p",{children:"All over the globe Waste is generated. Most of it is left unaccounted. Waste Tracker aims to connect volunteers willing to clean waste to places where wastes have been found."}),Object(a.jsx)("p",{children:"People can add markers to locate places where wastes have been found. Volunteers can then volunteer on these places, look at the available volunteers on site and their contact information."}),Object(a.jsx)("p",{children:"This will open a whole new possible oppurtunity to connect volunteers and solve the wastes collected on earth"})]})}},510:function(e,t,n){"use strict";n.r(t);var a=n(77),c=n(19),r=n.n(c),s=n(59),o=n(43),l=n(9),i=(n(178),n(58)),u=n(0),j=n(518),d=n(138),b=n(519),h=n(46),p=n.n(h),O=n(176),f=n(174),v=n(175),x=(n(511),n(131)),m=n.n(x),g=n(2);m.a.workerClass=n(512).default,t.default=function(e){var t=window.localStorage,n=Object(u.useState)(t.getItem("user")),c=Object(l.a)(n,2),h=c[0],x=c[1],m=Object(u.useState)([]),w=Object(l.a)(m,2),y=w[0],k=w[1],C=Object(u.useState)(null),S=Object(l.a)(C,2),N=S[0],I=S[1],T=Object(u.useState)(null),z=Object(l.a)(T,2),L=z[0],B=z[1],D=Object(u.useState)(null),R=Object(l.a)(D,2),E=R[0],V=R[1],A=Object(u.useState)(null),J=Object(l.a)(A,2),M=J[0],P=J[1],U=Object(u.useState)(0),F=Object(l.a)(U,2),Y=F[0],W=F[1],_=Object(u.useState)({latitude:47.040182,longitude:17.071727,zoom:15}),G=Object(l.a)(_,2),H=G[0],q=G[1],Q=Object(u.useState)({latitude:47.040182,longitude:17.071727}),X=Object(l.a)(Q,2),K=X[0],Z=X[1],$=Object(u.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ae=Object(u.useState)(!1),ce=Object(l.a)(ae,2),re=ce[0],se=ce[1],oe=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var c,o,l,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(t),console.log("handle clicked"),e.next=4,p.a.get("http://localhost:4000/api/volunteer");case 4:c=e.sent,o=c.data,l=!1,console.log("pinId : ",t),console.log("currentUsername : ",h),i=0;case 10:if(!(o&&i<o.length)){e.next=17;break}if(o[i].username!==h||o[i].pinId!==t){e.next=14;break}return l=!0,e.abrupt("break",17);case 14:i++,e.next=10;break;case 17:console.log("volunteerOrNot : ",l),be(l?"Cancel volunteer":"Be a volunteer"),q(Object(s.a)(Object(s.a)({},H),{},{latitude:n,longitude:a}));case 20:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),le=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:h,title:E,desc:M,rating:Y,lat:L.lat,long:L.long},e.prev=2,e.next=5,p.a.post("http://localhost:4000/api/pins",n);case 5:c=e.sent,k([].concat(Object(a.a)(y),[c.data])),B(null),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),console.log("clicked the see all volunteers button"),e.history.push("/seeallvolunteers");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ue=Object(u.useState)("Be a volunteer"),je=Object(l.a)(ue,2),de=je[0],be=je[1],he=function(){var e=Object(o.a)(r.a.mark((function e(n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(n),a={pin_id:N,username:t.getItem("user")},e.prev=3,e.next=6,p.a.post("http://localhost:4000/api/volunteer",a);case 6:c=e.sent,console.log(c.data),"Volunteer added successfully"===c.data?be("Cancel volunteer"):"You are not volunteer now"===c.data&&be("Be a volunteer"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){var e=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:4000/api/pins");case 3:t=e.sent,k(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var pe=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{username:t.getItem("user")},e.next=3,p.a.post("http://localhost:4000/api/users/logout");case 3:x(null),t.removeItem("user");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"geolocation"in navigator?(console.log("geolocation is available"),navigator.geolocation.getCurrentPosition((function(e){console.log("Longitude is ",e.coords.longitude),console.log("Latitude is ",e.coords.latitude),Z(Object(s.a)(Object(s.a)({},K),{},{latitude:e.coords.latitude,longitude:e.coords.longitude})),q(Object(s.a)(Object(s.a)({},H),{},{latitude:e.coords.latitude,longitude:e.coords.longitude}))}))):console.log("geolocation is unavailable"),Object(g.jsx)("div",{style:{height:"100vh",width:"100%"},children:Object(g.jsxs)(i.c,Object(s.a)(Object(s.a)({},H),{},{mapboxApiAccessToken:"pk.eyJ1IjoiYW1pdGJhdHJhMzEiLCJhIjoiY2t2MmQzbnh0MDI5dzJ5bDdvbDExand4MiJ9.vJaVz5di-IFq3uJd_eCC2Q",width:"100%",height:"100%",transitionDuration:"200",mapStyle:"mapbox://styles/mapbox/streets-v11",onViewportChange:function(e){return q(e)},onDblClick:h&&function(e){var t=Object(l.a)(e.lngLat,2),n=t[0],a=t[1];B({lat:a,long:n})},children:[Object(g.jsx)(i.a,{latitude:K.latitude,longitude:K.longitude,offsetLeft:-3.5*H.zoom,offsetTop:-7*H.zoom,children:Object(g.jsx)(j.a,{style:{fontSize:3*H.zoom,color:"red",cursor:"pointer"},onClick:function(){return oe("Live Geolocation",K.latitude,K.longitude)}})}),"Live Geolocation"==N&&Object(g.jsx)(i.b,{latitude:K.latitude,longitude:K.longitude,closeButton:!0,closeOnClick:!1,onClose:function(){return I(null)},anchor:"left",children:Object(g.jsx)("div",{style:{maxHeight:"70px",backgroundColor:"black",color:"white",paddingLeft:"5px",paddingTop:"5px"},children:"Your Location"})},N),y.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(i.a,{latitude:e.lat,longitude:e.long,offsetLeft:-3.5*H.zoom,offsetTop:-7*H.zoom,children:Object(g.jsx)(d.a,{style:{fontSize:3*H.zoom,color:h===e.username?"tomato":"slateblue",cursor:"pointer"},onClick:function(){return oe(e._id,e.lat,e.long)}})}),e._id===N&&Object(g.jsx)(i.b,{latitude:e.lat,longitude:e.long,closeButton:!0,closeOnClick:!1,onClose:function(){return I(null)},anchor:"left",children:Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("label",{children:"Place"}),Object(g.jsx)("h4",{className:"place",children:e.title}),Object(g.jsx)("label",{children:"Review"}),Object(g.jsx)("p",{className:"desc",children:e.desc}),Object(g.jsx)("label",{children:"Rating"}),Object(g.jsx)("div",{className:"stars",children:Array(e.rating).fill(Object(g.jsx)(b.a,{className:"star"}))}),Object(g.jsx)("label",{children:"Information"}),Object(g.jsxs)("span",{className:"username",children:["Created by ",Object(g.jsx)("b",{children:e.username})]}),Object(g.jsx)("span",{className:"date",children:Object(O.a)(e.createdAt)}),Object(g.jsxs)("form",{onSubmit:he,children:[Object(g.jsx)("input",{type:"hidden",name:"pin_id",value:e._id}),Object(g.jsx)("button",{name:"volunteer",type:"submit",className:"submitButton",children:de})]}),Object(g.jsx)("form",{onSubmit:ie,children:Object(g.jsx)("button",{name:"volunteer",type:"submit",className:"submitButton",children:"See all volunteers"})})]})},e._id)]})})),L&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(i.a,{latitude:L.lat,longitude:L.long,offsetLeft:-3.5*H.zoom,offsetTop:-7*H.zoom,children:Object(g.jsx)(d.a,{style:{fontSize:3*H.zoom,color:"tomato",cursor:"pointer"}})}),Object(g.jsx)(i.b,{latitude:L.lat,longitude:L.long,closeButton:!0,closeOnClick:!1,onClose:function(){return B(null)},anchor:"left",children:Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:le,children:[Object(g.jsx)("label",{children:"Title"}),Object(g.jsx)("input",{placeholder:"Enter a title",autoFocus:!0,onChange:function(e){return V(e.target.value)}}),Object(g.jsx)("label",{children:"Description"}),Object(g.jsx)("textarea",{placeholder:"Say us something about this place.",onChange:function(e){return P(e.target.value)}}),Object(g.jsx)("label",{children:"Rating"}),Object(g.jsxs)("select",{onChange:function(e){return W(e.target.value)},children:[Object(g.jsx)("option",{value:"1",children:"1"}),Object(g.jsx)("option",{value:"2",children:"2"}),Object(g.jsx)("option",{value:"3",children:"3"}),Object(g.jsx)("option",{value:"4",children:"4"}),Object(g.jsx)("option",{value:"5",children:"5"})]}),Object(g.jsx)("button",{type:"submit",className:"submitButton",children:"Add Pin"})]})})})]}),h?Object(g.jsx)("button",{className:"button logout",onClick:pe,children:"Log out"}):Object(g.jsxs)("div",{className:"buttons",children:[Object(g.jsx)("button",{className:"button login",onClick:function(){return se(!0)},children:"Log in"}),Object(g.jsx)("button",{className:"button register",onClick:function(){return ne(!0)},children:"Register"})]}),te&&Object(g.jsx)(f.a,{setShowRegister:ne}),re&&Object(g.jsx)(v.a,{setShowLogin:se,setCurrentUsername:x,myStorage:t})]}))})}},516:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(173),s=n.n(r),o=(n(178),n(58),n(46),n(176),n(174),n(175),n(85)),l=n(21),i=n(19),u=n.n(i),j=n(43),d=n(27),b=n(28),h=n(262),p=n(261),O=n(2);var f=function(e){return console.log("its props : ",e),Object(O.jsxs)("div",{className:"note",id:"mainDiv",children:[Object(O.jsx)("h1",{children:e.username}),Object(O.jsx)("p",{style:{color:"white"},children:e.email})]})},v=(n(46),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={flag:!0,allVolunteers:[],error:"There is no Volunteers"},e.renderPerson=function(){var t=e.state,n=t.flag,a=t.allVolunteers,c=t.error;return console.log("Flag : ",n),n?a.map((function(e){return Object(O.jsx)(f,{username:e.username,email:e.email})})):!1===n?(console.log("Errors : ",c),Object(O.jsx)("div",{children:c})):void 0},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:4000/api/volunteer");case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)&&0===n.length?this.setState({flag:!1,allVolunteers:n,error:"There is no Volunteers"}):this.setState({flag:!0,allVolunteers:n,error:"There is no Volunteers"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({flag:!1,error:"There is no Volunteers"});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(O.jsx)("div",{children:this.renderPerson()})}}]),n}(c.a.Component)),x=v,m=n(312).default,g=n(109).default,w=(n(508).default,n(517).default),y=n(509).default,k=n(110).default,C=n(510).default;var S=function(){return Object(O.jsxs)(o.a,{children:[Object(O.jsx)(k,{}),Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{exact:!0,path:"/",children:Object(O.jsx)(l.a,{to:"/home"})}),Object(O.jsx)(l.b,{path:"/seeallvolunteers",component:x}),Object(O.jsx)(l.b,{path:"/contact",component:m}),Object(O.jsx)(l.b,{path:"/home",component:w}),Object(O.jsx)(l.b,{path:"/about",component:y}),Object(O.jsx)(l.b,{path:"/maps",component:C})]}),Object(O.jsx)(g,{})]})};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(S,{})})}),document.getElementById("root"))},517:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));n(0),n(109),n(110);var a=n(135),c=n.p+"static/media/earthpic.5877a35b.jpeg",r=n(2);function s(){return Object(a.a)("client.js"),Object(a.a)("/jsm/controls/OrbitControls.js"),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{class:"title-container",children:Object(r.jsxs)("div",{class:"title",children:[Object(r.jsx)("h1",{children:"Get well soon dear Earth"}),Object(r.jsx)("p",{children:"If you can't keep clean your old bedroom you will also destroy the new one. Don't look for an alternative of earth. Rather keep it clean and habitable. Environment pollution has increased significantly. By polluting the environment we are not just destroying the earth, we are destroying humanity as well."}),Object(r.jsx)("button",{class:"btn",children:"Let's Clean"})]})}),Object(r.jsx)("div",{style:{backgroundImage:"url(".concat(c,")"),backgroundPositionY:-500},id:"bgimage"}),Object(r.jsx)("canvas",{class:"webgl"}),Object(r.jsx)("script",{type:"module",src:"client.js"}),Object(r.jsx)("script",{type:"module",src:"/jsm/controls/OrbitControls.js"})]})}}},[[516,1,2]]]);
//# sourceMappingURL=main.cf7ae788.chunk.js.map